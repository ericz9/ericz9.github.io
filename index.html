<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 1 页 | ericz9&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="ericz9&#39;s blog">
<meta property="og:url" content="http://ericz9.github.io/index.html">
<meta property="og:site_name" content="ericz9&#39;s blog">
<meta property="og:locale">
<meta property="article:author" content="ericz9">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="ericz9&#39;s blog" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  
<link rel="stylesheet" href="/css/style.css">


  
<script src="/js/jquery-3.1.1.min.js"></script>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >
  <link rel="stylesheet" href="/css/fashion.css" >
  <link rel="stylesheet" href="/css/glyphs.css" >

<meta name="generator" content="Hexo 5.2.0"></head>



  <body>


  


<header id="allheader" class="site-header" role="banner" 
   >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" rel="home" >
                <img style="margin-bottom: 10px;"  width="320px" height="213px" alt="Hike News" src=" /images/pexels-alexas-fotos-2277784.jpg">
              </a>
            
          </h1>
          
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="/"> <a class="" href="/">首页</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="archives"> <a class="" href="/archives">归档</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="categories"> <a class="" href="/categories">分类</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="tags"> <a class="" href="/tags">标签</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="about"> <a class="" href="/about">关于</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-JavaScript高级程序设计学习笔记-位操作符"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2020/12/24/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%BD%8D%E6%93%8D%E4%BD%9C%E7%AC%A6/">JavaScript高级程序设计学习笔记 - 位操作符</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2020/12/24/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%BD%8D%E6%93%8D%E4%BD%9C%E7%AC%A6/" class="article-date">
	  <time datetime="2020-12-24T01:21:53.000Z" itemprop="datePublished">December 24, 2020</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>位操作可以直接操作内存中表示数据的比特位。ECMAScript 中的数值都以 IEEE 754 64位格式存储，但位操作是先把值转换为 32 位整数，再进行位操作，之后再把结果转换为 64 位。</p>
<p>有符号整数使用 32 位的前 31 位表示整数值。第 32 位表示数值的符号，如 0 表示正，1 表示负。这一位称为符号位（sign bit），它的值决定了数值其余部分的格式。</p>
<h1 id="原码、反码和补码"><a href="#原码、反码和补码" class="headerlink" title="原码、反码和补码"></a>原码、反码和补码</h1><ul>
<li>反码即一补数，补码即二补数</li>
<li>正数的原码、反码、补码是一致的</li>
<li>负数的补码是反码加1，反码就是对原码按位取反，但是符号位不变</li>
<li>运算都是基于补码的</li>
</ul>
<h1 id="按位非"><a href="#按位非" class="headerlink" title="按位非"></a>按位非</h1><p>对数值取反并减1</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1 = <span class="number">25</span>;    <span class="comment">// 二进制 00000000000000000000000000011001</span></span><br><span class="line"><span class="keyword">let</span> num2 = ~num1; <span class="comment">// 二进制 11111111111111111111111111100110</span></span><br><span class="line"><span class="keyword">let</span> num3 = -num1 - <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num2); <span class="comment">// -26</span></span><br><span class="line"><span class="built_in">console</span>.log(num3); <span class="comment">// -26</span></span><br></pre></td></tr></table></figure>

<h1 id="按位与"><a href="#按位与" class="headerlink" title="按位与"></a>按位与</h1><p>两个位都是 1 时返回 1，任一位是 0 时返回 0</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 25: 0000 0000 0000 0000 0000 0000 0001 1001</span></span><br><span class="line"><span class="comment">// 3:  0000 0000 0000 0000 0000 0000 0000 0011</span></span><br><span class="line"><span class="comment">// -------------------------------------------</span></span><br><span class="line"><span class="comment">// =:  0000 0000 0000 0000 0000 0000 0000 0001</span></span><br><span class="line"><span class="keyword">let</span> result = <span class="number">25</span> &amp; <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h1 id="按位或"><a href="#按位或" class="headerlink" title="按位或"></a>按位或</h1><p>至少一位是 1 时返回 1，两位都是 0 时返回 0</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 25: 0000 0000 0000 0000 0000 0000 0001 1001</span></span><br><span class="line"><span class="comment">// 3:  0000 0000 0000 0000 0000 0000 0000 0011</span></span><br><span class="line"><span class="comment">// -------------------------------------------</span></span><br><span class="line"><span class="comment">// =:  0000 0000 0000 0000 0000 0000 0001 1011</span></span><br><span class="line"><span class="keyword">let</span> result = <span class="number">25</span> | <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 27</span></span><br></pre></td></tr></table></figure>

<h1 id="按位异或"><a href="#按位异或" class="headerlink" title="按位异或"></a>按位异或</h1><p>一位上是 1 的时候返回 1，两位都是 1 或 0，则返回 0</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 25: 0000 0000 0000 0000 0000 0000 0001 1001</span></span><br><span class="line"><span class="comment">// 3:  0000 0000 0000 0000 0000 0000 0000 0011</span></span><br><span class="line"><span class="comment">// -------------------------------------------</span></span><br><span class="line"><span class="comment">// =:  0000 0000 0000 0000 0000 0000 0001 1010</span></span><br><span class="line"><span class="keyword">let</span> result = <span class="number">25</span> ^ <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 26</span></span><br></pre></td></tr></table></figure>

<h1 id="左移"><a href="#左移" class="headerlink" title="左移"></a>左移</h1><p>按指定的位数，将数值的所有位向左移动。移位后，右边的空位以 0 填充</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oldValue = <span class="number">2</span>; <span class="comment">// 等于二进制 10</span></span><br><span class="line"><span class="keyword">let</span> newValue = oldValue &lt;&lt; <span class="number">5</span>; <span class="comment">// 等于二进制 1000000，即十进制 64</span></span><br></pre></td></tr></table></figure>

<h1 id="有符号右移"><a href="#有符号右移" class="headerlink" title="有符号右移"></a>有符号右移</h1><p>将数值的所有 32 位都向右移，同时保留符号（正或负）。移位后，左边的空位以<strong>符号位的值</strong>填充</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oldValue = <span class="number">64</span>; <span class="comment">// 等于二进制 1000000</span></span><br><span class="line"><span class="keyword">let</span> newValue = oldValue &gt;&gt; <span class="number">5</span>; <span class="comment">// 等于二进制 10，即十进制 2</span></span><br></pre></td></tr></table></figure>

<h1 id="无符号右移"><a href="#无符号右移" class="headerlink" title="无符号右移"></a>无符号右移</h1><p>将数值的所有 32 位都向右移。移位后，左边的空位以 0 填充，而不管符号位是正数还是负数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> oldValue = <span class="number">64</span>; <span class="comment">// 等于二进制 1000000</span></span><br><span class="line"><span class="keyword">let</span> newValue = oldValue &gt;&gt;&gt; <span class="number">5</span>; <span class="comment">// 等于二进制 10，即十进制 2</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6/" rel="tag">红宝书</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC3%E7%AB%A0%EF%BC%88%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%EF%BC%89/" rel="tag">红宝书第3章（语言基础）</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-JavaScript高级程序设计学习笔记-基本引用类型"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2020/12/23/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%9F%BA%E6%9C%AC%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/">JavaScript高级程序设计学习笔记 - 基本引用类型</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2020/12/23/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%9F%BA%E6%9C%AC%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/" class="article-date">
	  <time datetime="2020-12-23T02:25:19.000Z" itemprop="datePublished">December 23, 2020</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文主要介绍 Date、RegExp 和 Math 的 API 方法</p>
<h1 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h1><h2 id="创建日期对象"><a href="#创建日期对象" class="headerlink" title="创建日期对象"></a>创建日期对象</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="keyword">new</span> <span class="built_in">Date</span>(); <span class="comment">// 当前时间</span></span><br><span class="line"><span class="keyword">const</span> bar = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">Date</span>.now()); <span class="comment">// 基于毫秒数创建，Date.now() 返回当前时间的毫秒数</span></span><br><span class="line"><span class="keyword">const</span> baz = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&#x27;12/23/2020&#x27;</span>); <span class="comment">// 基于日期创建（月/日/年）</span></span><br></pre></td></tr></table></figure>

<h2 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&#x27;12/23/2020&#x27;</span>); <span class="comment">// 基于日期创建（月/日/年）</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.toString()); <span class="comment">// Wed Dec 23 2020 00:00:00 GMT+0800 (中国标准时间)</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.toLocaleString()); <span class="comment">// 2020/12/23 上午12:00:00</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.toDateString()); <span class="comment">// Wed Dec 23 2020</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.toLocaleDateString()); <span class="comment">// 2020/12/23</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.toTimeString()); <span class="comment">// 00:00:00 GMT+0800 (中国标准时间)</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.toLocaleTimeString()); <span class="comment">// 上午12:00:00</span></span><br></pre></td></tr></table></figure>

<h2 id="其他方法"><a href="#其他方法" class="headerlink" title="其他方法"></a>其他方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ISO 8601 扩展格式“YYYY-MM-DDTHH:mm:ss.sssZ”，如 2019-05-23T00:00:00（只适用于兼容 ES5 的实现）</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&#x27;2020-12-23T11:12:12.678&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期的毫秒表示</span></span><br><span class="line">foo.getTime(); <span class="comment">// 1608693132000</span></span><br><span class="line">foo.setTime();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4位数年</span></span><br><span class="line">foo.getFullYear(); <span class="comment">// 2020</span></span><br><span class="line">foo.setFullYear();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期中的月（0 - 11）</span></span><br><span class="line">foo.getMonth(); <span class="comment">// 11</span></span><br><span class="line">foo.setMonth();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期中的日（1 - 31）</span></span><br><span class="line">foo.getDate(); <span class="comment">// 23</span></span><br><span class="line">foo.setDate();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期中的周几（0（周日） - 6）</span></span><br><span class="line">foo.getDay(); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期中的时（0 - 23）</span></span><br><span class="line">foo.getHours(); <span class="comment">// 11</span></span><br><span class="line">foo.setHours();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期中的分（0 - 59）</span></span><br><span class="line">foo.getMinutes(); <span class="comment">// 12</span></span><br><span class="line">foo.setMinutes();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期中的秒（0 - 59）</span></span><br><span class="line">foo.getSeconds(); <span class="comment">// 12</span></span><br><span class="line">foo.setSeconds();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 日期中的毫秒</span></span><br><span class="line">foo.getMilliseconds(); <span class="comment">// 678</span></span><br><span class="line">foo.setMilliseconds();</span><br></pre></td></tr></table></figure>

<h1 id="RegExp"><a href="#RegExp" class="headerlink" title="RegExp"></a>RegExp</h1><p>正则表达式可以使用字面量或构造函数来创建，它们是等效的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="string">&#x27;foobar&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> pattern1 = <span class="regexp">/bar/g</span>;</span><br><span class="line"><span class="keyword">const</span> pattern2 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;g&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="匹配标记"><a href="#匹配标记" class="headerlink" title="匹配标记"></a>匹配标记</h2><ul>
<li>g：全局匹配</li>
<li>i：不区分大小写</li>
<li>m：多行搜索</li>
<li>y：粘附模式，表示只查找从 lastIndex 开始及之后的字符串</li>
<li>u：使用 unicode 进行匹配</li>
<li>s：允许 . 匹配换行符</li>
</ul>
<h2 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h2><table>
<thead>
<tr>
<th align="center">字符</th>
<th align="center">含义</th>
<th align="center">示例</th>
</tr>
</thead>
<tbody><tr>
<td align="center">^</td>
<td align="center">匹配输入的开始</td>
<td align="center"><code>/^A/.test(&#39;aA&#39;); // false</code> <br /> <code>/^A/.test(&#39;Aa&#39;); // true</code></td>
</tr>
<tr>
<td align="center">$</td>
<td align="center">匹配输入的结束</td>
<td align="center"><code>/A$/.test(&#39;aA&#39;); // true</code> <br /> <code>/A$/.test(&#39;Aa&#39;); // false</code></td>
</tr>
<tr>
<td align="center">*</td>
<td align="center">匹配前一个表达式 0 次或多次，等价于 {0,}</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">+</td>
<td align="center">匹配前面一个表达式 1 次或多次，等价于 {1,}</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">?</td>
<td align="center">匹配前面一个表达式 0 次或 1 次，等价于 {0,1}</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">.</td>
<td align="center">默认匹配除换行符之外的任何单个字符</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">x|y</td>
<td align="center">匹配 x 或 y</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">{n}</td>
<td align="center">n 是一个正整数，匹配前面一个字符刚好出现了 n 次</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">{n,}</td>
<td align="center">n是一个正整数，匹配前一个字符至少出现了n次</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">{n,m}</td>
<td align="center">n 和 m 都是整数。匹配前面的字符至少n次，最多m次。如果 n 或者 m 的值是0， 这个值被忽略</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">[xyz]</td>
<td align="center">匹配方括号中的任意字符</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">[^xyz]</td>
<td align="center">匹配任何没有包含在方括号中的字符</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">\d</td>
<td align="center">匹配一个数字，等价于[0-9]</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">\D</td>
<td align="center">匹配一个非数字字符，等价于[^0-9]</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">\n</td>
<td align="center">匹配一个换行符</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">\r</td>
<td align="center">匹配一个回车符</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">\s</td>
<td align="center">匹配一个空白字符，包括空格、制表符、换页符和换行符</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">\S</td>
<td align="center">匹配一个非空白字符</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">\w</td>
<td align="center">匹配一个单字字符（字母、数字或者下划线）。等价于 [A-Za-z0-9_]</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">\W</td>
<td align="center">匹配一个非单字字符。等价于 [^A-Za-z0-9_]</td>
<td align="center"></td>
</tr>
</tbody></table>
<h1 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h1><h2 id="最大值与最小值"><a href="#最大值与最小值" class="headerlink" title="最大值与最小值"></a>最大值与最小值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.min(<span class="number">3</span>, <span class="number">54</span>, <span class="number">32</span>, <span class="number">16</span>)); <span class="comment">//3</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max(<span class="number">3</span>, <span class="number">54</span>, <span class="number">32</span>, <span class="number">16</span>)); <span class="comment">//54</span></span><br></pre></td></tr></table></figure>

<h2 id="舍入"><a href="#舍入" class="headerlink" title="舍入"></a>舍入</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="number">2.49</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向上舍入为最接近的整数</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(foo)); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 向下舍入为最接近的整数</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(foo)); <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 四舍五入</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(foo)); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h2 id="随机数"><a href="#随机数" class="headerlink" title="随机数"></a>随机数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.random()); <span class="comment">// 返回 0 到 1 范围内的随机数</span></span><br></pre></td></tr></table></figure>

<style>
table th:first-child {
  width: 50px;
}
</style>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6/" rel="tag">红宝书</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC5%E7%AB%A0%EF%BC%88%E5%9F%BA%E6%9C%AC%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%EF%BC%89/" rel="tag">红宝书第5章（基本引用类型）</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-JavaScript高级程序设计学习笔记-变量复制"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2020/12/22/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%8F%98%E9%87%8F%E5%A4%8D%E5%88%B6/">JavaScript高级程序设计学习笔记 - 变量复制</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2020/12/22/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%8F%98%E9%87%8F%E5%A4%8D%E5%88%B6/" class="article-date">
	  <time datetime="2020-12-22T01:59:11.000Z" itemprop="datePublished">December 22, 2020</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们已经知道，ECMAScript 中包含两种类型的数据：原始值和引用值。其中，原始值按值访问，引用值按引用访问。</p>
<h1 id="按值访问和按引用访问"><a href="#按值访问和按引用访问" class="headerlink" title="按值访问和按引用访问"></a>按值访问和按引用访问</h1><p>首先我们需要了解原始值和引用值的内存分配机制：</p>
<ul>
<li>原始值：存储在栈（stack）中</li>
<li>引用值：有指针和实际值，实际的值存储在堆（heap）中，指针存储在栈中，它指向实际的值所存储的地址</li>
</ul>
<p>而不同的内存分配，也就出现了上面所说的两种不同的访问机制</p>
<p>原始值我们可以直接从栈中获取，这就是按值访问</p>
<p>而引用值，我们需要先在栈中得到它所指向的实际地址，然后根据该地址获得实际的值，这就是按引用访问</p>
<h1 id="只有按值传递"><a href="#只有按值传递" class="headerlink" title="只有按值传递"></a>只有按值传递</h1><p><strong>先说结论，所有变量的复制，都是按值传递，没有按引用传递一说</strong></p>
<ul>
<li>复制原始值：产生一个副本，它们没有任何关系，完全独立，互不干扰</li>
<li>复制引用值：<ul>
<li>实际就是复制指针，产生一个副本，两个指针之间没有任何关系，完全独立，互不干扰</li>
<li>两个指针的值都是该引用值的实际地址</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> foo = &#123; <span class="attr">name</span>: <span class="string">&#x27;foo&#x27;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> bar = foo;</span><br><span class="line"><span class="built_in">console</span>.log(foo === bar); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 因为两个指针都指向同一个地址，所以改变 bar 的 name，foo 中也会同步改变</span></span><br><span class="line">bar.name = <span class="string">&#x27;foo changed&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(foo.name); <span class="comment">// foo changed</span></span><br><span class="line"><span class="built_in">console</span>.log(bar.name); <span class="comment">// foo changed</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 因为是按值传递，两个指针相互独立，给 bar 赋值，会重新产生一个指针，指向 bar 实际的值的地址</span></span><br><span class="line"><span class="comment">// 如果是按引用传递，foo 也应被改变才对</span></span><br><span class="line">bar = &#123; <span class="attr">name</span>: <span class="string">&#x27;bar&#x27;</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(foo.name); <span class="comment">// foo changed</span></span><br><span class="line"><span class="built_in">console</span>.log(bar.name); <span class="comment">// bar</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>理解 JS 中只有按值传递的重点在于，复制原始值时会在栈中产生一个实际值的副本，复制引用值时会在栈中产生一个指针的副本（指针是独立的，但都指向实际的值所在堆中的同一个地址）。<strong>函数的参数传递也是如此</strong>。</p>
</blockquote>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6/" rel="tag">红宝书</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC4%E7%AB%A0%EF%BC%88%E5%8F%98%E9%87%8F%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E5%86%85%E5%AD%98%EF%BC%89/" rel="tag">红宝书第4章（变量、作用域与内存）</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-JavaScript高级程序设计学习笔记-数据类型-Symbol"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2020/12/21/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-Symbol/">JavaScript高级程序设计学习笔记 - 数据类型(Symbol)</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2020/12/21/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-Symbol/" class="article-date">
	  <time datetime="2020-12-21T01:50:17.000Z" itemprop="datePublished">December 21, 2020</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>Symbol（符号） 是原始值，其实例是唯一、不可变的，它的用途是用做对象的非字符串形式的属性，而不会产生同名冲突。</p>
<h1 id="符号初始化"><a href="#符号初始化" class="headerlink" title="符号初始化"></a>符号初始化</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 符号需要使用 Symbol() 函数初始化</span></span><br><span class="line"><span class="keyword">let</span> genericSymbol = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">let</span> otherGenericSymbol = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="built_in">console</span>.log(genericSymbol == otherGenericSymbol); <span class="comment">// false </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fooSymbol = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> otherFooSymbol = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(fooSymbol == otherFooSymbol); <span class="comment">// false </span></span><br></pre></td></tr></table></figure>

<h1 id="全局符号"><a href="#全局符号" class="headerlink" title="全局符号"></a>全局符号</h1><p>使用 Symbol.for() 创建全局符号，它是一个幂等操作。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> globalSymbol = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;foo&#x27;</span>); <span class="comment">// 创建全局符号</span></span><br><span class="line"><span class="keyword">let</span> otherGlobalSymbol = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;foo&#x27;</span>); <span class="comment">// 重用已定义的全局符号</span></span><br><span class="line"><span class="built_in">console</span>.log(globalSymbol === otherGlobalSymbol); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h1 id="符号属性"><a href="#符号属性" class="headerlink" title="符号属性"></a>符号属性</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fooSymbol = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> barSymbol = <span class="built_in">Symbol</span>(<span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> bazSymbol = <span class="built_in">Symbol</span>(<span class="string">&#x27;baz&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> quxSymbol = <span class="built_in">Symbol</span>(<span class="string">&#x27;qux&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> o = &#123;</span><br><span class="line">  foo: <span class="string">&#x27;foo&#x27;</span>,</span><br><span class="line">  [fooSymbol]: <span class="string">&#x27;foo symbol&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(o, barSymbol, &#123; <span class="attr">value</span>: <span class="string">&#x27;bar symbol&#x27;</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperties(o, &#123;</span><br><span class="line">  [bazSymbol]: &#123; <span class="attr">value</span>: <span class="string">&#x27;baz symbol&#x27;</span> &#125;,</span><br><span class="line">  [quxSymbol]: &#123; <span class="attr">value</span>: <span class="string">&#x27;qux symbol&#x27;</span> &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回常规属性</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(o)); <span class="comment">// [&#x27;foo&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回符号属性</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertySymbols(o)); <span class="comment">// [Symbol(foo), Symbol(bar), Symbol(baz), Symbol(qux)]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回常规属性和符号属性</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Reflect</span>.ownKeys(o)); <span class="comment">// [&quot;foo&quot;, Symbol(foo), Symbol(bar), Symbol(baz), Symbol(qux)]</span></span><br></pre></td></tr></table></figure>

<h1 id="常用内置符号"><a href="#常用内置符号" class="headerlink" title="常用内置符号"></a>常用内置符号</h1><p>内置符号就是全局函数 Symbol 的普通字符串属性，指向一个符号的实例，它们最重要的用途是方便开发者重新定义，从而改变原生结构行为。</p>
<h2 id="Symbol-asyncIterator"><a href="#Symbol-asyncIterator" class="headerlink" title="Symbol.asyncIterator"></a>Symbol.asyncIterator</h2><blockquote>
<p>一个方法，该方法返回对象默认的 AsyncIterator。由 for-await-of 语句使用</p>
</blockquote>
<h2 id="Symbol-hasInstance"><a href="#Symbol-hasInstance" class="headerlink" title="Symbol.hasInstance"></a>Symbol.hasInstance</h2><blockquote>
<p>一个方法，该方法决定一个构造器对象是否认可一个对象是它的实例。由 instanceof 操作符使用</p>
</blockquote>
<p>在 ES6 中，instanceof 操作符会使用 Symbol.hasInstance 函数来确定关系，它定义在 Function 的原型上，因此可以在类的静态方法中定义</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line"> <span class="keyword">static</span> [<span class="built_in">Symbol</span>.hasInstance]() &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> foo = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="built_in">console</span>.log(foo <span class="keyword">instanceof</span> Foo); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="Symbol-isConcatSpreadable"><a href="#Symbol-isConcatSpreadable" class="headerlink" title="Symbol.isConcatSpreadable"></a>Symbol.isConcatSpreadable</h2><blockquote>
<p>一个布尔值，如果是 true，则意味着对象应该用 Array.prototype.concat()打平其数组元素</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> foo = [<span class="string">&#x27;foo&#x27;</span>];</span><br><span class="line"><span class="keyword">let</span> bar = [<span class="string">&#x27;bar&#x27;</span>];</span><br><span class="line"></span><br><span class="line">bar[<span class="built_in">Symbol</span>.isConcatSpreadable] = <span class="literal">false</span>;</span><br><span class="line"><span class="built_in">console</span>.log(foo.concat(bar)); <span class="comment">// [&#x27;foo&#x27;, Array(1)]</span></span><br></pre></td></tr></table></figure>

<h2 id="Symbol-iterator"><a href="#Symbol-iterator" class="headerlink" title="Symbol.iterator"></a>Symbol.iterator</h2><blockquote>
<p>一个方法，该方法返回对象默认的迭代器。由 for-of 语句使用</p>
</blockquote>
<h2 id="Symbol-match"><a href="#Symbol-match" class="headerlink" title="Symbol.match"></a>Symbol.match</h2><blockquote>
<p>一个正则表达式方法，该方法用正则表达式去匹配字符串。由 String.prototype.match()方法使用</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;foobar&#x27;</span>.match(<span class="regexp">/bar/</span>)); <span class="comment">// [&quot;bar&quot;, index: 3, input: &quot;foobar&quot;, groups: undefined]</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StringMatcher</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">str</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.str = str;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 重新定义 Symbol.match 函数，从而让 match() 方法可以使用非正则表达式实例</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>target 调用 match() 方法的字符串</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  [<span class="built_in">Symbol</span>.match](target) &#123;</span><br><span class="line">    <span class="keyword">return</span> target.includes(<span class="built_in">this</span>.str);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;foobar&#x27;</span>.match(<span class="keyword">new</span> StringMatcher(<span class="string">&#x27;bar&#x27;</span>))); <span class="comment">// true </span></span><br></pre></td></tr></table></figure>

<h2 id="Symbol-replace"><a href="#Symbol-replace" class="headerlink" title="Symbol.replace"></a>Symbol.replace</h2><blockquote>
<p>一个正则表达式方法，该方法替换一个字符串中匹配的子串。由 String.prototype.replace()方法使用</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StringReplacer</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">str</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.str = str;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 重新定义 Symbol.replace 函数，从而让 replace() 方法可以使用非正则表达式实例</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>target 调用 replace() 方法的字符串</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>replacement 被替换后的值</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  [<span class="built_in">Symbol</span>.replace](target, replacement) &#123;</span><br><span class="line">    <span class="keyword">return</span> target.split(<span class="built_in">this</span>.str).join(replacement);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;barfoobaz&#x27;</span>.replace(<span class="keyword">new</span> StringReplacer(<span class="string">&#x27;foo&#x27;</span>), <span class="string">&#x27;qux&#x27;</span>)); <span class="comment">// &quot;barquxbaz&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="Symbol-search"><a href="#Symbol-search" class="headerlink" title="Symbol.search"></a>Symbol.search</h2><blockquote>
<p>一个正则表达式方法，该方法返回字符串中匹配正则表达式的索引。由 String.prototype.search()方法使用</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StringSearcher</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">str</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.str = str;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 重新定义 Symbol.search 函数，从而让 search() 方法可以使用非正则表达式实例</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>target 调用 search() 方法的字符串</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  [<span class="built_in">Symbol</span>.search](target) &#123;</span><br><span class="line">    <span class="keyword">return</span> target.indexOf(<span class="built_in">this</span>.str);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;foobar&#x27;</span>.search(<span class="keyword">new</span> StringSearcher(<span class="string">&#x27;foo&#x27;</span>))); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<h2 id="Symbol-species"><a href="#Symbol-species" class="headerlink" title="Symbol.species"></a>Symbol.species</h2><blockquote>
<p>一个函数值，该函数作为创建派生对象的构造函数</p>
</blockquote>
<p>它的意义在于，子类返回基类的实例，而非子类的实例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> <span class="keyword">extends</span> <span class="title">Promise</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span> <span class="keyword">extends</span> <span class="title">Promise</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 指向基类 Promise 的实例</span></span><br><span class="line">  <span class="keyword">static</span> get [<span class="built_in">Symbol</span>.species]() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> Foo(<span class="function"><span class="params">r</span> =&gt;</span> r()).then(<span class="function"><span class="params">v</span> =&gt;</span> v) <span class="keyword">instanceof</span> Foo) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> Bar(<span class="function"><span class="params">r</span> =&gt;</span> r()).then(<span class="function"><span class="params">v</span> =&gt;</span> v) <span class="keyword">instanceof</span> Bar) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="Symbol-split"><a href="#Symbol-split" class="headerlink" title="Symbol.split"></a>Symbol.split</h2><blockquote>
<p>一个正则表达式方法，该方法在匹配正则表达式的索引位置拆分字符串。由 String.prototype.split()方法使用</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StringSplitter</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">str</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.str = str;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 重新定义 Symbol.split 函数，从而让 split() 方法可以使用非正则表达式实例</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param <span class="type">&#123;String&#125;</span> </span>target 调用 split() 方法的字符串</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  [<span class="built_in">Symbol</span>.split](target) &#123;</span><br><span class="line">    <span class="keyword">return</span> target.split(<span class="built_in">this</span>.str);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;barfoobaz&#x27;</span>.split(<span class="keyword">new</span> StringSplitter(<span class="string">&#x27;foo&#x27;</span>))); <span class="comment">// [&quot;bar&quot;, &quot;baz&quot;]</span></span><br></pre></td></tr></table></figure>

<h2 id="Symbol-toPrimitive"><a href="#Symbol-toPrimitive" class="headerlink" title="Symbol.toPrimitive"></a>Symbol.toPrimitive</h2><blockquote>
<p>一个方法，该方法将对象转换为相应的原始值。由 ToPrimitive 抽象操作使用</p>
</blockquote>
<p>很多内置操作的场景下，会将对象强制转换为原始值，这时候我们可以使用该内置符号改变默认行为</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span> </span>&#123; </span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// 支持三种模式（string、number、default）</span></span><br><span class="line">    <span class="built_in">this</span>[<span class="built_in">Symbol</span>.toPrimitive] = <span class="function"><span class="keyword">function</span>(<span class="params">hint</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">switch</span> (hint) &#123;</span><br><span class="line">        <span class="comment">// 该场合需转换成数值</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;number&#x27;</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">        <span class="comment">// 该场合需转换成字符串</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;string&#x27;</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">&#x27;string bar&#x27;</span>;</span><br><span class="line">        <span class="comment">// 该场合可以转成数值，也可以转成字符串</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;default&#x27;</span>:</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">&#x27;default bar&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> bar = <span class="keyword">new</span> Bar();</span><br><span class="line"><span class="built_in">console</span>.log(bar * <span class="number">2</span>); <span class="comment">// 6</span></span><br><span class="line"><span class="built_in">console</span>.log(bar + <span class="number">2</span>); <span class="comment">// default bar2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(bar)); <span class="comment">// string bar</span></span><br><span class="line"><span class="built_in">console</span>.log(bar == <span class="string">&#x27;default bar&#x27;</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="Symbol-toStringTag"><a href="#Symbol-toStringTag" class="headerlink" title="Symbol.toStringTag"></a>Symbol.toStringTag</h2><blockquote>
<p>一个字符串，该字符串用于创建对象的默认字符串描述。由内置方法 Object.prototype.toString()使用</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> foo = <span class="keyword">new</span> Foo();</span><br><span class="line"><span class="built_in">console</span>.log(foo.toString()); <span class="comment">// [object Object]</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>[<span class="built_in">Symbol</span>.toStringTag] = <span class="string">&#x27;Bar&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> bar = <span class="keyword">new</span> Bar();</span><br><span class="line"><span class="built_in">console</span>.log(bar.toString()); <span class="comment">// [object Bar]</span></span><br></pre></td></tr></table></figure>

<h2 id="Symbol-unscopables"><a href="#Symbol-unscopables" class="headerlink" title="Symbol.unscopables"></a>Symbol.unscopables</h2><blockquote>
<p>一个对象，该对象所有的以及继承的属性，都会从关联对象的 with 环境绑定中排除</p>
</blockquote>
<p>不推荐使用 with，因此也不推荐使用 Symbol.unscopables</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6/" rel="tag">红宝书</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC3%E7%AB%A0%EF%BC%88%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%EF%BC%89/" rel="tag">红宝书第3章（语言基础）</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-JavaScript高级程序设计学习笔记-数据类型"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2020/12/17/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">JavaScript高级程序设计学习笔记 - 数据类型</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2020/12/17/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="article-date">
	  <time datetime="2020-12-17T01:30:51.000Z" itemprop="datePublished">December 17, 2020</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>ECMAScript中有6种原始类型：Undefined、Null、Boolean、Number、String、Symbol，一种复杂类型Object。</p>
<h1 id="typeof-操作符"><a href="#typeof-操作符" class="headerlink" title="typeof 操作符"></a>typeof 操作符</h1><ul>
<li><code>typeof undefined; // undefined</code></li>
<li><code>typeof null; // object</code></li>
<li><code>typeof &#39;hello&#39;; // string</code></li>
<li><code>typeof 1; // number</code></li>
<li><code>typeof true; // boolean</code></li>
<li><code>typeof Symbol(); // symbol</code></li>
</ul>
<h2 id="类型判断"><a href="#类型判断" class="headerlink" title="类型判断"></a>类型判断</h2><p>从上面可以看出，typeof 可以准确的进行大部分原始类型的检测，唯一例外的是 <code>typeof null</code> 返回的是 object。</p>
<p>更严重的是，typeof 对于 Array、Date等类型均返回 object，在很多情况下，这可能并不是我们所期望的。</p>
<p>这时候，你也许需要 <code>Object.prototype.toString</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 类型判断</span></span><br><span class="line"><span class="comment"> * 确保拿到的是原始类型，而不是对应的包装对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params">ele</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> eleType;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 判断数据是引用类型的情况</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> ele === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> eleClass = <span class="built_in">Object</span>.prototype.toString.call(ele);</span><br><span class="line">    <span class="keyword">const</span> eleClasses = eleClass.split(<span class="string">&#x27; &#x27;</span>)[<span class="number">1</span>].split(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    eleClasses.pop();</span><br><span class="line">    eleType = eleClasses.join(<span class="string">&#x27;&#x27;</span>).toLowerCase();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 判断数据是基本数据类型和函数的情况</span></span><br><span class="line">    eleType = <span class="keyword">typeof</span> ele;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> eleType;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// test</span></span><br><span class="line">getType(<span class="literal">undefined</span>); <span class="comment">// undefined</span></span><br><span class="line">getType(<span class="literal">null</span>); <span class="comment">// null</span></span><br><span class="line">getType(<span class="string">&#x27;hello&#x27;</span>); <span class="comment">// string</span></span><br><span class="line">getType(<span class="number">1</span>); <span class="comment">// number</span></span><br><span class="line">getType(<span class="literal">true</span>); <span class="comment">// boolean</span></span><br><span class="line">getType(<span class="built_in">Symbol</span>()); <span class="comment">// symbol</span></span><br><span class="line">getType(&#123;&#125;); <span class="comment">// object</span></span><br><span class="line">getType([]); <span class="comment">// array</span></span><br><span class="line">getType(<span class="keyword">new</span> <span class="built_in">Date</span>()); <span class="comment">// date</span></span><br><span class="line">getType(<span class="keyword">new</span> <span class="built_in">RegExp</span>()); <span class="comment">// regexp</span></span><br><span class="line">getType(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;); <span class="comment">// function</span></span><br><span class="line">getType(<span class="built_in">window</span>.JSON); <span class="comment">// json</span></span><br></pre></td></tr></table></figure>

<h1 id="Undefined-类型"><a href="#Undefined-类型" class="headerlink" title="Undefined 类型"></a>Undefined 类型</h1><p>变量已声明但未初始化时，它的值就是 undefined。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> foo;</span><br><span class="line"><span class="built_in">console</span>.log(foo === <span class="literal">undefined</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h1 id="Null-类型"><a href="#Null-类型" class="headerlink" title="Null 类型"></a>Null 类型</h1><p>null 值表示一个空对象指针，这也是给typeof 传一个 null 会返回”object”的原因。</p>
<p>undefined 值是由 null 值派生而来的，因此 ECMA-262 将它们定义为表面上相等。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> == <span class="literal">undefined</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> === <span class="literal">undefined</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h1 id="Boolean-类型"><a href="#Boolean-类型" class="headerlink" title="Boolean 类型"></a>Boolean 类型</h1><p>Boolean 有两个字面值： true 和 false。</p>
<p>对于任意数据类型，都可以使用 Boolean() 转型函数获得一个布尔值，下表列出了详细的转换规则：</p>
<table>
<thead>
<tr>
<th align="center">数据类型</th>
<th align="center">转换为 true 的值</th>
<th align="center">转换为 false 的值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">String</td>
<td align="center">非空字符串</td>
<td align="center">空字符串</td>
</tr>
<tr>
<td align="center">Number</td>
<td align="center">非零数值（包括无穷值）</td>
<td align="center">0、NaN</td>
</tr>
<tr>
<td align="center">Object</td>
<td align="center">任意对象</td>
<td align="center">null</td>
</tr>
<tr>
<td align="center">Undefined</td>
<td align="center">N/A（不存在）</td>
<td align="center">undefined</td>
</tr>
</tbody></table>
<h1 id="Number-类型"><a href="#Number-类型" class="headerlink" title="Number 类型"></a>Number 类型</h1><p>ECMAScript使用 IEEE 754 格式表示整数和浮点值，这就导致在小数运算中，经常产生舍入错误，如 <code>console.log(0.1 + 0.2); // 0.30000000000000004</code></p>
<p>Number()、parseInt() 和 parseFloat() 都可以进行数值转换，它们的区别如下：</p>
<ul>
<li>布尔值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">true</span>)); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">false</span>)); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="literal">true</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="literal">false</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="literal">true</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="literal">false</span>)); <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure></li>
<li>null 和 undefined<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">null</span>)); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">undefined</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="literal">null</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="literal">undefined</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="literal">null</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="literal">undefined</span>)); <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure></li>
<li>字符串<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 空字符串</span></span><br><span class="line"><span class="comment">// parseInt，如果第一个字符不是数值、加号或减号，立即返回 NaN</span></span><br><span class="line"><span class="comment">// parseFloat同上</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">&#x27;&#x27;</span>)); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&#x27;&#x27;</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="string">&#x27;&#x27;</span>)); <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 小数</span></span><br><span class="line"><span class="comment">// parseInt 会取截至到小数点之前的数值</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">&#x27;1.1&#x27;</span>)); <span class="comment">// 1.1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&#x27;1.1&#x27;</span>)); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="string">&#x27;1.1&#x27;</span>)); <span class="comment">// 1.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Number 和 parseFloat 始终会忽略前面的0</span></span><br><span class="line"><span class="comment">// parseInt 则特殊一点，如果以&quot;0x&quot;开头，则被解释为16进制；如果以“0”开头且紧跟数值字符，在非严格模式下，会被某些实现解释为8进制</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">&#x27;01.1&#x27;</span>)); <span class="comment">// 1.1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&#x27;01.1&#x27;</span>)); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="string">&#x27;01.1&#x27;</span>)); <span class="comment">// 1.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 包含非数值字符</span></span><br><span class="line"><span class="comment">// parseInt 和 parseFloat 会依次检测每个字符，直到末尾，或遇到非数值字符</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">&#x27;1.1a&#x27;</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&#x27;1.1a&#x27;</span>)); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="string">&#x27;1.1a&#x27;</span>)); <span class="comment">// 1.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 以非数值、加号或减号开头，立即返回NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">&#x27;a1.1&#x27;</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&#x27;a1.1&#x27;</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="string">&#x27;a1.1&#x27;</span>)); <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 多个小数点</span></span><br><span class="line"><span class="comment">// 其实情况与传入的参数为 &quot;1.1a&quot; 时一致</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">&#x27;1.1.1&#x27;</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">&#x27;1.1.1&#x27;</span>)); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="string">&#x27;1.1.1&#x27;</span>)); <span class="comment">// 1.1</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<blockquote>
<p>书中建议，如果明确需要转换为整数，可以优先使用 parseInt() 函数，它更专注于字符串中是否包含数值模式。</p>
</blockquote>
<h1 id="String-类型"><a href="#String-类型" class="headerlink" title="String 类型"></a>String 类型</h1><p>字符串属于值类型，可以使用双引号”、单引号’或反引号` 表示，一旦创建不可再改变。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 我们先浅显的理解一下，“一旦创建不可再改变” 不是指变量创建后不能再赋值，而是说变量所保存的值不可再改变</span></span><br><span class="line"><span class="comment"> * 在这个示例中，在 foo 再次赋值时，会先创建一个 another value，保存到 foo，然后销毁 value</span></span><br><span class="line"><span class="comment"> * 而不是将 value 替换为 another value，这就是 “一旦创建不可再改变” 的意思</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> foo = <span class="string">&#x27;value&#x27;</span>;</span><br><span class="line">foo = <span class="string">&#x27;another value&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>再看一个例子</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 因为 String 是值类型，所创建的变量按值访问</span></span><br><span class="line"><span class="comment"> * 所以 foo 和 bar 都得到了 str 的一个副本，它们相互独立，互不干扰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;value&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> foo = str;</span><br><span class="line"><span class="keyword">let</span> bar = str;</span><br><span class="line">str = <span class="string">&#x27;another value&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(foo); <span class="comment">// value</span></span><br><span class="line"><span class="built_in">console</span>.log(bar); <span class="comment">// value</span></span><br></pre></td></tr></table></figure>

<h2 id="模板字面量"><a href="#模板字面量" class="headerlink" title="模板字面量"></a>模板字面量</h2><p>技术上讲，模板字面量不是字符串，而是一种特殊的 JavaScript 表达式，只不过求值后得到的是字符串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 所插入的值都会使用 toString() 强制转型为字符串</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="string">&#x27;world&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`Hello <span class="subst">$&#123;foo[<span class="number">0</span>].toUpperCase()&#125;</span><span class="subst">$&#123;foo.slice(<span class="number">1</span>)&#125;</span>`</span>); <span class="comment">// Hello World</span></span><br></pre></td></tr></table></figure>

<h3 id="标签函数"><a href="#标签函数" class="headerlink" title="标签函数"></a>标签函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">simpleTag</span>(<span class="params">strings, aValExpression, bValExpression, sumExpression</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(strings);</span><br><span class="line">  <span class="built_in">console</span>.log(aValExpression);</span><br><span class="line">  <span class="built_in">console</span>.log(bValExpression);</span><br><span class="line">  <span class="built_in">console</span>.log(sumExpression);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;foobar&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">simpleTag<span class="string">`<span class="subst">$&#123; a &#125;</span> + <span class="subst">$&#123; b &#125;</span> = <span class="subst">$&#123; a + b &#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这两种调用方式是等效的</span></span><br><span class="line"><span class="comment">// 对于有 n 个插值的模板字面量，传给标签函数的表达式参数的个数始终是 n，而传给标签函数的第一个参数所包含的字符串个数则始终是 n+1</span></span><br><span class="line"><span class="comment">// 第一个参数的值，应是每个插值和边界的间隔：</span></span><br><span class="line"><span class="comment">// 位置0：反引号 ` 和 插值 $&#123; a &#125; 之间的边界</span></span><br><span class="line"><span class="comment">// 位置1：插值 $&#123; a &#125; 和 插值 $&#123; b &#125; 之间的边界</span></span><br><span class="line"><span class="comment">// 位置2：插值 $&#123; b &#125; 和 插值 $&#123; a + b &#125; 之间的边界</span></span><br><span class="line"><span class="comment">// 位置3：插值 $&#123; a + b &#125; 和 反引号 ` 之间的边界</span></span><br><span class="line">simpleTag([<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27; + &#x27;</span>, <span class="string">&#x27; = &#x27;</span>, <span class="string">&#x27;&#x27;</span>], <span class="number">6</span>, <span class="number">9</span>, <span class="number">15</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 都输出以下内容</span></span><br><span class="line"><span class="comment">// [&quot;&quot;, &quot; + &quot;, &quot; = &quot;, &quot;&quot;]</span></span><br><span class="line"><span class="comment">// 6</span></span><br><span class="line"><span class="comment">// 9</span></span><br><span class="line"><span class="comment">// 15</span></span><br></pre></td></tr></table></figure>

<p>个人觉得标签函数的应用场景在于，输出的字符串中，有多个位置需要动态插值。而标签函数的第一个参数的个数始终是 n+1，那我们可以利用这一点，使用数组的 reduce 方法，很方便的求值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">encodeHTML</span>(<span class="params">strings, ...values</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> strings.reduce(<span class="function">(<span class="params">prev, current, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(index &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> value = values[index - <span class="number">1</span>].replace(<span class="regexp">/&lt;/g</span>,<span class="string">&quot;&amp;lt;&quot;</span>).replace(<span class="regexp">/&gt;/g</span>,<span class="string">&quot;&amp;gt;&quot;</span>);</span><br><span class="line">      prev += value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> prev + current;</span><br><span class="line">  &#125;, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> badCode = <span class="string">&#x27;&lt;script&gt;alert(&quot;abc&quot;)&lt;/script&gt;&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> message = encodeHTML<span class="string">`code <span class="subst">$&#123;badCode&#125;</span> is safely`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="comment">// const message = encodeHTML([&#x27;code &#x27;, &#x27; is safely&#x27;], &#x27;&lt;script&gt;alert(&quot;abc&quot;)&lt;/script&gt;&#x27;);</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(message); <span class="comment">// code &amp;lt;script&amp;gt;alert(&quot;abc&quot;)&amp;lt;/script&amp;gt; is safely</span></span><br></pre></td></tr></table></figure>

<h3 id="原始字符串"><a href="#原始字符串" class="headerlink" title="原始字符串"></a>原始字符串</h3><p>使用 String.raw 或者 通过标签函数的第一个参数，可以方便的取得字符串的原始内容</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">`\u00A9`</span>); <span class="comment">// ©</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>.raw<span class="string">`\u00A9`</span>); <span class="comment">// \u00A9</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">encodeHTML</span>(<span class="params">strings, ...values</span>) </span>&#123;</span><br><span class="line">  strings.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123; <span class="built_in">console</span>.log(item); <span class="comment">/* © */</span> &#125;)</span><br><span class="line">  strings.raw.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123; <span class="built_in">console</span>.log(item); <span class="comment">/* \u00A9 */</span> &#125;)</span><br><span class="line">&#125;</span><br><span class="line">encodeHTML<span class="string">`\u00A9`</span>;</span><br></pre></td></tr></table></figure>

<h1 id="Symbol-类型"><a href="#Symbol-类型" class="headerlink" title="Symbol 类型"></a>Symbol 类型</h1><p>单独写一篇文章讲解</p>
<h1 id="Object-类型"><a href="#Object-类型" class="headerlink" title="Object 类型"></a>Object 类型</h1><p>Object 是所有对象的基类，它有几个常用属性或方法：</p>
<ul>
<li>hasOwnProperty<br>用来确定属性是在实例上，还是在原型对象上<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">Person.prototype.name = <span class="string">&quot;Nicholas&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">person.age = <span class="number">20</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person.hasOwnProperty(<span class="string">&#x27;name&#x27;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(person.hasOwnProperty(<span class="string">&#x27;age&#x27;</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
<li>isPrototypeOf<br>以上面代码为例，用于判断person对象的原型是否指向Person.prototype<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(Person.prototype.isPrototypeOf(person)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person.__proto__ === Person.prototype); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6/" rel="tag">红宝书</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC3%E7%AB%A0%EF%BC%88%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%EF%BC%89/" rel="tag">红宝书第3章（语言基础）</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-JavaScript高级程序设计学习笔记-变量声明"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2020/12/16/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E/">JavaScript高级程序设计学习笔记 - 变量声明</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2020/12/16/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E/" class="article-date">
	  <time datetime="2020-12-16T03:17:35.000Z" itemprop="datePublished">December 16, 2020</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>首先要知道的是，ECMAScript 中一切都区分大小写。无论是变量、函数名还是操作符，都区分大小写。</p>
<p>有 3 个关键字可以声明变量：var、const 和 let。其中，var 在ECMAScript 的所有版本中都可以使用，而 const 和 let 只能在 ECMAScript 6 及更晚的版本中使用。</p>
<h1 id="var-关键字"><a href="#var-关键字" class="headerlink" title="var 关键字"></a>var 关键字</h1><p>使用 var 操作符定义的变量有两个特点：</p>
<ul>
<li><p><strong>局部变量，声明范围为函数作用域</strong><br>它的作用域意外着，该变量会在函数退出时销毁</p>
</li>
<li><p><strong>声明自动提升</strong><br>声明自动提升的意思是，把所有变量声明都拉到函数作用域顶部</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(age);</span><br><span class="line">  <span class="keyword">var</span> age = <span class="number">26</span>;</span><br><span class="line">&#125;</span><br><span class="line">foo(); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<p>之所以不会报错，是因为它等价于</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> age;</span><br><span class="line">  <span class="built_in">console</span>.log(age);</span><br><span class="line">  age = <span class="number">26</span>;</span><br><span class="line">&#125;</span><br><span class="line">foo(); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="let-声明"><a href="#let-声明" class="headerlink" title="let 声明"></a>let 声明</h1><ul>
<li><p>let 跟 var 最大的区别是，let 声明的范围是块级作用域</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">&#x27;Matt&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> age = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(age); <span class="comment">// 20</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(name); <span class="comment">// Matt</span></span><br><span class="line">  <span class="built_in">console</span>.log(age); <span class="comment">// ReferenceError: age is not defined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>let 声明的变量不会在作用域中被提升，所以在声明之前不能引用，此为“暂时性死区”（temporal dead zone）</p>
</li>
<li><p>let 在全局作用域中声明的变量不会成为 window 对象的属性（var 声明的变量则会）</p>
</li>
</ul>
<h2 id="for-循环中的-let-声明"><a href="#for-循环中的-let-声明" class="headerlink" title="for 循环中的 let 声明"></a>for 循环中的 let 声明</h2><p>使用 var 定义的迭代变量会渗透到循环体外部</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i) &#123;</span><br><span class="line">  <span class="comment">// 循环逻辑</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<p>使用 let 定义的迭代变量的作用域仅限于循环内部，JavaScript 引擎在后台会为每个迭代循环声明一个新的迭代变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i) &#123;</span><br><span class="line">  <span class="comment">// 循环逻辑</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i); <span class="comment">// ReferenceError: i is not defined</span></span><br></pre></td></tr></table></figure>

<h1 id="const-声明"><a href="#const-声明" class="headerlink" title="const 声明"></a>const 声明</h1><p>const 与 let 唯一一个重要的区别是，声明时必须同时初始化值，且后续不可再修改。</p>
<p>需要注意的是，这个限制只适用于它指向的变量的引用。换句话说，如果使用 const 定义了一个对象，则后续是可以再修改的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="string">&#x27;foo&#x27;</span></span><br><span class="line">foo = <span class="string">&#x27;bar&#x27;</span> <span class="comment">// Assignment to constant variable</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> bar = &#123;&#125;</span><br><span class="line">bar.name = <span class="string">&#x27;bar&#x27;</span> <span class="comment">// ok</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> baz = []</span><br><span class="line">baz.push(<span class="string">&#x27;baz&#x27;</span>) <span class="comment">// ok</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6/" rel="tag">红宝书</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC3%E7%AB%A0%EF%BC%88%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%EF%BC%89/" rel="tag">红宝书第3章（语言基础）</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-vscode快捷键"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2016/10/20/vscode%E5%BF%AB%E6%8D%B7%E9%94%AE/">vscode 快捷键</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2016/10/20/vscode%E5%BF%AB%E6%8D%B7%E9%94%AE/" class="article-date">
	  <time datetime="2016-10-20T07:37:02.000Z" itemprop="datePublished">October 20, 2016</time>
	</a>

       
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>很喜欢vscode这个编辑器，由于工作中使用visual studio居多，使用起来还是不太熟练，好记性还是不如烂笔头啊……</p>
<p><code>Ctrl + D</code>: 选中光标所在单词，多次按下可以选中所有相同的单词<br><code>Ctrl + P</code>: 打开转到文件小窗口，可在输入框中输入”?”号执行其他快捷操作<br><code>Ctrl + B</code>: 显示/隐藏侧边栏<br><code>Alt + Shift + F</code>: 整理代码格式</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  


</section>
          <aside id="sidebar">
  
    <div style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 72%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 36px; width: 100%;" placeholder=" 搜索…" value="" name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="搜索">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div>
</div>
  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>最新文章</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/12/24/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%BD%8D%E6%93%8D%E4%BD%9C%E7%AC%A6/">JavaScript高级程序设计学习笔记 - 位操作符</a></h6>
              <span>December 24, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/12/23/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%9F%BA%E6%9C%AC%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/">JavaScript高级程序设计学习笔记 - 基本引用类型</a></h6>
              <span>December 23, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/12/22/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%8F%98%E9%87%8F%E5%A4%8D%E5%88%B6/">JavaScript高级程序设计学习笔记 - 变量复制</a></h6>
              <span>December 22, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/12/21/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-Symbol/">JavaScript高级程序设计学习笔记 - 数据类型(Symbol)</a></h6>
              <span>December 21, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/12/17/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">JavaScript高级程序设计学习笔记 - 数据类型</a></h6>
              <span>December 17, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2020/12/16/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E/">JavaScript高级程序设计学习笔记 - 变量声明</a></h6>
              <span>December 16, 2020</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/" rel="tag">vscode</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6/" rel="tag">红宝书</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC3%E7%AB%A0%EF%BC%88%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%EF%BC%89/" rel="tag">红宝书第3章（语言基础）</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC4%E7%AB%A0%EF%BC%88%E5%8F%98%E9%87%8F%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E5%86%85%E5%AD%98%EF%BC%89/" rel="tag">红宝书第4章（变量、作用域与内存）</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC5%E7%AB%A0%EF%BC%88%E5%9F%BA%E6%9C%AC%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%EF%BC%89/" rel="tag">红宝书第5章（基本引用类型）</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/vscode/" style="font-size: 10px;">vscode</a> <a href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6/" style="font-size: 20px;">红宝书</a> <a href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC3%E7%AB%A0%EF%BC%88%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%EF%BC%89/" style="font-size: 15px;">红宝书第3章（语言基础）</a> <a href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC4%E7%AB%A0%EF%BC%88%E5%8F%98%E9%87%8F%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E5%86%85%E5%AD%98%EF%BC%89/" style="font-size: 10px;">红宝书第4章（变量、作用域与内存）</a> <a href="/tags/%E7%BA%A2%E5%AE%9D%E4%B9%A6%E7%AC%AC5%E7%AB%A0%EF%BC%88%E5%9F%BA%E6%9C%AC%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%EF%BC%89/" style="font-size: 10px;">红宝书第5章（基本引用类型）</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2020 ericz9&#39;s blog All Rights Reserved.
        
            <span id="busuanzi_container_site_uv">
              本站访客数<span id="busuanzi_value_site_uv"></span>人次  
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hipaper" target="_blank">hipaper</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
    
</script>
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/bootstrap.js"></script>


<script src="/js/main.js"></script>








  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
